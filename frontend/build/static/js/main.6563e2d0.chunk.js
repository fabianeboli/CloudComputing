(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[7],{61:function(e,n,t){e.exports=t(87)},67:function(e,n,t){var r={"./ion-action-sheet-ios.entry.js":[91,31],"./ion-action-sheet-md.entry.js":[92,32],"./ion-alert-ios.entry.js":[93,33],"./ion-alert-md.entry.js":[94,34],"./ion-app_8-ios.entry.js":[95,13],"./ion-app_8-md.entry.js":[96,14],"./ion-avatar_3-ios.entry.js":[97,35],"./ion-avatar_3-md.entry.js":[98,36],"./ion-back-button-ios.entry.js":[99,37],"./ion-back-button-md.entry.js":[100,38],"./ion-backdrop-ios.entry.js":[101,79],"./ion-backdrop-md.entry.js":[102,80],"./ion-button_2-ios.entry.js":[103,39],"./ion-button_2-md.entry.js":[104,40],"./ion-card_5-ios.entry.js":[105,41],"./ion-card_5-md.entry.js":[106,42],"./ion-checkbox-ios.entry.js":[107,43],"./ion-checkbox-md.entry.js":[108,44],"./ion-chip-ios.entry.js":[109,45],"./ion-chip-md.entry.js":[110,46],"./ion-col_3.entry.js":[111,81],"./ion-datetime_3-ios.entry.js":[112,19],"./ion-datetime_3-md.entry.js":[113,20],"./ion-fab_3-ios.entry.js":[114,47],"./ion-fab_3-md.entry.js":[115,48],"./ion-img.entry.js":[116,82],"./ion-infinite-scroll_2-ios.entry.js":[117,83],"./ion-infinite-scroll_2-md.entry.js":[118,84],"./ion-input-ios.entry.js":[119,49],"./ion-input-md.entry.js":[120,50],"./ion-item-option_3-ios.entry.js":[121,51],"./ion-item-option_3-md.entry.js":[122,52],"./ion-item_8-ios.entry.js":[123,53],"./ion-item_8-md.entry.js":[124,54],"./ion-loading-ios.entry.js":[125,55],"./ion-loading-md.entry.js":[126,56],"./ion-menu_3-ios.entry.js":[127,57],"./ion-menu_3-md.entry.js":[128,58],"./ion-modal-ios.entry.js":[129,15],"./ion-modal-md.entry.js":[130,16],"./ion-nav_2.entry.js":[131,27],"./ion-popover-ios.entry.js":[132,17],"./ion-popover-md.entry.js":[133,18],"./ion-progress-bar-ios.entry.js":[134,59],"./ion-progress-bar-md.entry.js":[135,60],"./ion-radio_2-ios.entry.js":[136,61],"./ion-radio_2-md.entry.js":[137,62],"./ion-range-ios.entry.js":[138,63],"./ion-range-md.entry.js":[139,64],"./ion-refresher_2-ios.entry.js":[140,21],"./ion-refresher_2-md.entry.js":[141,22],"./ion-reorder_2-ios.entry.js":[142,29],"./ion-reorder_2-md.entry.js":[143,30],"./ion-ripple-effect.entry.js":[144,85],"./ion-route_4.entry.js":[145,65],"./ion-searchbar-ios.entry.js":[146,66],"./ion-searchbar-md.entry.js":[147,67],"./ion-segment_2-ios.entry.js":[148,68],"./ion-segment_2-md.entry.js":[149,69],"./ion-select_3-ios.entry.js":[150,70],"./ion-select_3-md.entry.js":[151,71],"./ion-slide_2-ios.entry.js":[152,86],"./ion-slide_2-md.entry.js":[153,87],"./ion-spinner.entry.js":[154,25],"./ion-split-pane-ios.entry.js":[155,88],"./ion-split-pane-md.entry.js":[156,89],"./ion-tab-bar_2-ios.entry.js":[157,72],"./ion-tab-bar_2-md.entry.js":[158,73],"./ion-tab_2.entry.js":[159,28],"./ion-text.entry.js":[160,74],"./ion-textarea-ios.entry.js":[161,75],"./ion-textarea-md.entry.js":[162,76],"./ion-toast-ios.entry.js":[163,77],"./ion-toast-md.entry.js":[164,78],"./ion-toggle-ios.entry.js":[165,23],"./ion-toggle-md.entry.js":[166,24],"./ion-virtual-scroll.entry.js":[167,90]};function a(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],a=n[0];return t.e(n[1]).then((function(){return t(a)}))}a.keys=function(){return Object.keys(r)},a.id=67,e.exports=a},69:function(e,n,t){var r={"./ion-icon.entry.js":[171,93]};function a(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],a=n[0];return t.e(n[1]).then((function(){return t(a)}))}a.keys=function(){return Object.keys(r)},a.id=69,e.exports=a},70:function(e,n,t){},85:function(e,n,t){},87:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(32),c=t.n(o),i=t(1),s=t(6),l=t(4),u=(t(70),t(16)),m=function(e,n){var t=Object(r.useState)((function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):n}catch(r){return console.log(r),n}})),a=Object(u.a)(t,2),o=a[0],c=a[1];return[o,function(n){try{var t=n instanceof Function?n(o):n;c(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(r){console.log(r)}}]},d=Object(r.createContext)({signedIn:{id:"",username:"",books:[]},changeSignedIn:function(){}}),j=function(e){var n=m("login",{id:"",username:"",books:[]}),t=Object(u.a)(n,2),r=t[0],o=t[1];return a.a.createElement(d.Provider,{value:{signedIn:r,changeSignedIn:function(e,n,t){return o({id:e,username:n,books:t})}}},e.children)},f=t(173),b=[{title:"Strona G\u0142\xf3wna",url:"/page/about",iosIcon:l.l,mdIcon:l.m},{title:"Ksi\u0105zki",url:"/page/books",iosIcon:l.b,mdIcon:l.b},{title:"Kontakt",url:"/page/contact",iosIcon:l.d,mdIcon:l.e},{title:"Zaloguj si\u0119",url:"/page/signin",iosIcon:l.n,mdIcon:l.n},{title:"Zarejestruj si\u0119",url:"/page/signup",iosIcon:l.r,mdIcon:l.r}],p=[{title:"Strona G\u0142\xf3wna",url:"/page/about",iosIcon:l.l,mdIcon:l.m},{title:"Ksi\u0105zki",url:"/page/books",iosIcon:l.b,mdIcon:l.b},{title:"Kontakt",url:"/page/contact",iosIcon:l.d,mdIcon:l.e},{title:"Twoje Ksi\u0105\u017cki",url:"/page/library",iosIcon:l.c,mdIcon:l.c},{title:"Wyloguj si\u0119",url:"/page/signout",iosIcon:l.o,mdIcon:l.o}],y=function(){var e=Object(s.h)(),n=Object(r.useContext)(d).signedIn,t=n.username?p:b;return a.a.createElement(i.u,{swipeGesture:!0,contentId:"main",type:"reveal"},a.a.createElement(i.j,null,a.a.createElement(i.s,{id:"inbox-list"},a.a.createElement(i.t,null,"LIBRO"),a.a.createElement(i.x,null,n.username),t.map((function(n){return a.a.createElement(i.w,{key:Object(f.a)(),autoHide:!1},a.a.createElement(i.p,{className:e.pathname===n.url?"selected":"",routerLink:n.url,routerDirection:"none",lines:"none",detail:!1},a.a.createElement(i.m,{slot:"start",icon:n.iosIcon}),a.a.createElement(i.q,null,n.title)))})))))},g=t(53),E=(t(75),t(76),t(77),t(78),t(79),t(80),t(81),t(82),t(83),t(84),t(85),t(18)),h=t(14);function k(){var e=Object(E.a)(["\n  color: ",";\n"]);return k=function(){return e},e}function O(){var e=Object(E.a)(["\n  background-color: ",";\n"]);return O=function(){return e},e}function v(){var e=Object(E.a)(["\n  color: ",";\n  text-align: center;\n  margin: 1% 0;\n"]);return v=function(){return e},e}function x(){var e=Object(E.a)(["\n  color: ",";\n  text-align: center;\n  font-size: calc(2.0em + 1.1vw);\n"]);return x=function(){return e},e}function w(){var e=Object(E.a)(["\n    display: flex;\n    align-content: center;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    margin: auto;\n"]);return w=function(){return e},e}h.c.div(w());var I=h.c.h1(x(),(function(e){return e.theme.accent})),_=(h.c.h2(v(),(function(e){return e.theme.foreground})),Object(h.c)(i.y)(O(),(function(e){return e.theme.background})),Object(h.c)(i.D)(k(),(function(e){return e.theme.accent})),function(e){var n=Object(r.useState)(!0),t=Object(u.a)(n,2),o=t[0],c=t[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.l,null,a.a.createElement(i.F,null,a.a.createElement(i.d,{slot:"start"},a.a.createElement(i.v,null)),a.a.createElement(i.D,null,e.title),a.a.createElement(i.E,{onClick:function(){c(!o),o?(document.body.classList.add("light"),document.body.classList.remove("dark")):(document.body.classList.add("dark"),document.body.classList.remove("light"))},slot:"end"}))))}),S=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(_,{title:"Strona G\u0142\xf3wna"}),a.a.createElement(i.j,null,a.a.createElement(i.e,{className:"ion-align-items-center"},a.a.createElement(I,null,"Biblioteka Libro"),a.a.createElement("h2",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ullamcorper purus in libero bibendum commodo. Nunc ac lorem efficitur, bibendum dolor sit amet, vulputate dui. In quis consectetur felis. Curabitur et leo dignissim, ornare enim id, ultricies erat. Nulla rhoncus nisl in fringilla elementum."))))};function N(){var e=Object(E.a)(["\n    html, body {\n        width: 100%;\n        height: 100%;\n    }\n"]);return N=function(){return e},e}var C={background:"#fcfaee",foreground:"#333",accent:"#e63946"},R=(Object(h.b)(N()),t(5)),z=t.n(R),D=t(13),T=t(43),F=t(42),L=t(57),A=t.n(L),K="http://localhost:3001";function P(){var e=Object(E.a)(["\n\tmax-width: 50%;\n\tmargin: 0 auto;\n\tborder-radius: 3px;\n\theight: 25em;\n\tbackground-size: contain;\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n"]);return P=function(){return e},e}function U(){var e=Object(E.a)(["\n\tfont-weight: 700;\n\tmargin: 5%;\n"]);return U=function(){return e},e}function J(){var e=Object(E.a)(["\n\twidth: 50%;\n\tmargin: 0 auto;\n\tborder-radius: 3px;\n\theight: 25em;\n\tbackground-size: contain;\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n"]);return J=function(){return e},e}function W(){var e=Object(E.a)(["\n\ttext-align: center;\n\tpadding: 15px;\n"]);return W=function(){return e},e}function q(){var e=Object(E.a)(["\n\ttext-align: center;\n\tpadding: 15px;\n"]);return q=function(){return e},e}function B(){var e=Object(E.a)(["\n\ttext-align: start;\n"]);return B=function(){return e},e}function M(){var e=Object(E.a)(["\n\ttext-align: center;\n"]);return M=function(){return e},e}function Z(){var e=Object(E.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]);return Z=function(){return e},e}h.c.div(Z());var G=Object(h.c)(i.e)(M()),H=Object(h.c)(i.f)(B()),$=Object(h.c)(i.h)(q()),Q=Object(h.c)(i.g)(W()),V=(Object(h.c)(i.C)(J()),Object(h.c)(i.c)(U())),X=Object(h.c)(i.n)(P()),Y=function(e){var n=Object(r.useState)(e.stock),t=Object(u.a)(n,2),o=t[0],c=t[1],s=Object(r.useContext)(d),l=s.signedIn,m=s.changeSignedIn,j=function(){var n=Object(D.a)(z.a.mark((function n(t){var r,a,i,s,u,d,j;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),r=Object(F.a)(Object(F.a)({},e),{},{rentDate:A()().add(30,"days").format("ll")}),n.next=4,fetch("".concat(K,"/user/").concat(l.id));case 4:return a=n.sent,n.next=7,a.json();case 7:return i=n.sent,s={method:"PATCH",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({books:[].concat(Object(T.a)(i.books),[r])})},n.next=11,fetch("".concat(K,"/user/").concat(l.id),s);case 11:if(!(u=n.sent).ok){n.next=22;break}return c(o-1),m(l.id,l.username,[].concat(Object(T.a)(l.books),[r])),d={method:"PATCH",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({stock:o-1})},n.next=18,fetch("".concat(K,"/book/").concat(e.id),d);case 18:(j=n.sent).ok?console.log("UPDATED STOCK"):console.error("ERROR ".concat(j.status)),n.next=23;break;case 22:console.error("ERROR: ".concat(u.status));case 23:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=a.a.createElement(a.a.Fragment,null,a.a.createElement(i.g,null,"Ilo\u015b\u0107 w magazynie: ",o),l.username?a.a.createElement(V,{expand:"block",onClick:function(e){return j(e)}},"Wypo\u017cycz"):a.a.createElement(V,{expand:"block",disabled:!0}," ","Zaloguj si\u0119, aby wypo\u017cyczy\u0107")),b=a.a.createElement(a.a.Fragment,null,a.a.createElement(i.g,{color:"danger"},"Brak dost\u0119pu!"),a.a.createElement(V,{expand:"block",disabled:!0},"Wypo\u017cycz"));return a.a.createElement(i.i,{sizeSm:"12",sizeMd:"6",className:"ion-justify-content-center"},a.a.createElement(G,null,a.a.createElement($,null,e.title),a.a.createElement(X,{src:e.cover}),a.a.createElement(i.g,null,e.author),a.a.createElement(i.g,null,e.category),a.a.createElement(i.g,null,e.publisher," ",e.year," "),a.a.createElement(H,null,e.description),o?f:b))},ee=function(){var e=Object(r.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],c=function(){var e=Object(D.a)(z.a.mark((function e(){var n,t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(K,"/book"));case 2:if(!(n=e.sent).ok){e.next=10;break}return e.next=6,n.json();case 6:t=e.sent,o(t),e.next=11;break;case 10:console.error("ERROR: ".concat(n.status));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){c()}),[]);return a.a.createElement(i.j,null,a.a.createElement(_,{title:"Ksi\u0105\u017cki"}),a.a.createElement(i.k,{fixed:!0},a.a.createElement(i.A,{className:"ion-align-items-center"},function(e){return e.map((function(e){return a.a.createElement(Y,{key:Object(f.a)(),id:e.id,title:e.title,author:e.author,cover:e.cover,category:e.category,publisher:e.publisher,year:e.year,description:e.description,stock:e.stock})}))}(t))))},ne=function(){var e=Object(r.useState)(""),n=Object(u.a)(e,2),t=n[0],o=n[1],c=Object(r.useState)(""),s=Object(u.a)(c,2),l=s[0],m=s[1],j=Object(r.useContext)(d),f=j.signedIn,b=j.changeSignedIn,p=Object(r.useState)(""),y=Object(u.a)(p,2),g=y[0],E=y[1],h=function(){var e=Object(D.a)(z.a.mark((function e(n){var r,a,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),E(""),e.next=4,fetch("".concat(K,"/user"));case 4:if(!(r=e.sent).ok){e.next=13;break}return e.next=8,r.json();case 8:a=e.sent,(o=a.find((function(e){return e.username===t&&e.password===l})))?b(o.id,o.username,o.books):E("U\u017cytkownik nie istnieje"),e.next=15;break;case 13:console.error("ERROR: ".concat(r.status)),E("ERROR: ".concat(r.statusText));case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=a.a.createElement(a.a.Fragment,null,a.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},a.a.createElement(i.o,{type:"text",name:"name",placeholder:"Imie",value:t,onIonChange:function(e){return o(e.detail.value)},required:!0}),a.a.createElement(i.o,{type:"password",name:"password",placeholder:"Has\u0142o",value:l,onIonChange:function(e){return m(e.detail.value)},required:!0}),a.a.createElement(i.d,null,a.a.createElement(i.c,{type:"submit",slot:"primary",expand:"full",onClick:function(e){return h(e)}},"Zaloguj si\u0119")))),O=a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Witaj ",f.username,"!"));return a.a.createElement(i.j,null,a.a.createElement(_,{title:"Zaloguj si\u0119"}),a.a.createElement(i.A,{className:"ion-align-items-center"},a.a.createElement(i.i,{sizeSm:"12",sizeMd:"6",className:"ion-justify-content-center"},a.a.createElement(i.e,null,f.username?O:k),a.a.createElement("h1",null," ",g))))},te=function(){var e=Object(r.useState)(""),n=Object(u.a)(e,2),t=n[0],o=n[1],c=Object(r.useState)(""),s=Object(u.a)(c,2),l=s[0],m=s[1],d=Object(r.useState)(""),j=Object(u.a)(d,2),f=j[0],b=j[1],p=function(){var e=Object(D.a)(z.a.mark((function e(n){var t,r,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(K,"/user"));case 2:if(!(t=e.sent).ok){e.next=10;break}return e.next=6,t.json();case 6:return r=e.sent,!(a=r.find((function(e){return e.username===n})))&&b("Ten u\u017cytkownik ju\u017c istnieje"),e.abrupt("return",!!a);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=Object(D.a)(z.a.mark((function e(n){var r,a,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),b(""),!p(t)){e.next=4;break}return e.abrupt("return");case 4:return r={username:t,password:l,books:[]},a={method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(r)},e.next=8,fetch("".concat(K,"/user"),a);case 8:(o=e.sent).ok?console.log("SIGNED UP NEW USER"):(console.error("ERROR: ".concat(o.status)),b("ERROR: ".concat(o.statusText)));case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g=a.a.createElement(i.e,null,a.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},a.a.createElement(i.o,{type:"text",name:"name",placeholder:"Imie",value:t,onIonChange:function(e){return o(e.detail.value)},required:!0}),a.a.createElement(i.o,{type:"password",name:"password",placeholder:"Has\u0142o",value:l,onIonChange:function(e){return m(e.detail.value)},required:!0}),a.a.createElement(i.d,null,a.a.createElement(i.c,{type:"submit",slot:"primary",expand:"full",onClick:function(e){return y(e)}},"Zarejestruj si\u0119"))));return a.a.createElement(i.j,null,a.a.createElement(_,{title:"Rejestracja"}),a.a.createElement(i.k,null,a.a.createElement(i.A,{className:"ion-align-items-center"},a.a.createElement(i.i,{sizeSm:"12",sizeMd:"6",className:"ion-justify-content-center"},g,a.a.createElement("h2",null," ",f," ")))))},re=function(){var e=Object(r.useContext)(d),n=e.signedIn,t=e.changeSignedIn;return Object(r.useEffect)((function(){t("","",[])}),[]),a.a.createElement(i.j,null,"Trwa proces wylogowania...",!n.username&&a.a.createElement(s.b,{to:"/page/about"}))},ae=function(){var e=Object(r.useContext)(d).signedIn;return a.a.createElement(i.j,null,a.a.createElement(_,{title:"Twoje zam\xf3wione ksi\u0105zki"}),a.a.createElement(i.k,{fixed:!0},a.a.createElement(i.A,{className:"ion-align-items-center"},e.books.map((function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.i,{sizeSm:"12",sizeMd:"6",className:"ion-justify-content-center"},a.a.createElement(G,{key:Object(f.a)()},a.a.createElement($,null,e.title),a.a.createElement(X,{src:e.cover}),a.a.createElement(Q,null,e.author," ",e.category),a.a.createElement(i.g,{color:"danger"},"DO ODDANIA: ",e.rentDate))))})))))},oe=function(){return a.a.createElement(i.j,null,a.a.createElement(_,{title:"Kontakt"}),a.a.createElement(i.k,null,a.a.createElement("h1",null,"Telefon: ",a.a.createElement("a",{href:"tel:+612251213"}," 612 251 213")),a.a.createElement("h1",null,"Email: ",a.a.createElement("a",{href:"mailto:libro@libro.pl"}," libro@libro.pl"))))},ce=function(){return a.a.createElement(j,null,a.a.createElement(i.b,null,a.a.createElement(h.a,{theme:C},a.a.createElement(g.a,null,a.a.createElement(i.B,{contentId:"main"},a.a.createElement(y,null),a.a.createElement(i.z,{id:"main"},a.a.createElement(s.e,null,a.a.createElement(s.c,{path:"/page/about",component:S,exact:!0}),a.a.createElement(s.c,{path:"/page/books",component:ee,exact:!0}),a.a.createElement(s.c,{path:"/page/contact",component:oe,exact:!0}),a.a.createElement(s.c,{path:"/page/signin",component:ne,exact:!0}),a.a.createElement(s.c,{path:"/page/signup",component:te,exact:!0}),a.a.createElement(s.c,{path:"/page/signout",component:re,exact:!0}),a.a.createElement(s.c,{path:"/page/library",component:ae,exact:!0}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[61,9,12]]]);
//# sourceMappingURL=main.6563e2d0.chunk.js.map